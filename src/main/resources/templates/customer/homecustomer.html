<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" href="images/dz.png">
    <title>Welcome</title>
    <link rel="stylesheet" th:href="@{stylesheets/homepage.css}">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />
    <link rel="stylesheet" th:href="@{https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css}">
    <link th:href="@{//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css}" rel="stylesheet" id="bootstrap-css">
    <script th:src="@{//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js}"></script>
    <script th:src="@{//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js}"></script>
  </head>
  <nav class="navbar navbar-expand-lg">
    <div class="container-fluid">
      <a class="navbar-brand" href="#">DZ EMPIRE RENTAL</a>
      <button
        class="navbar-toggler"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#navbarNav"
        aria-controls="navbarNav"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="d-flex justify-content-end" id="navbarNav">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link" aria-current="page" th:href="@{/homecustomer}">Home</a>
          </li>
          <li class="nav-item">
              <a class="nav-link" th:href="@{/logout}">Logout</a>
            </li>
          <li class="nav-item">
              <a th:href="@{/rentaldetailC}">
                <img
                  src="images/car.png"
                  style="width: 30px; height: 30px; cursor: pointer"
                />
              </a>
            </li>
          <li class="nav-item">
            <a th:href="@{/profilecust}">
              <img
                src="images/customer.png"
                style="width: 30px; height: 30px; cursor: pointer"
              />
            </a>
          </li>
        </ul>
      </div>
    </div>
  </nav>
  <body>
      <img src="images/header2c.jpg" class="img-fluid" alt="header1">
      <div class="container-fluid" style="background-color:#F39D7D; padding: 10px;justify-content: center;">
        <h1 class="text-center">DZ EMPIRE CAR RENTAL</h1>
        <p class="text-center" style="font-family:'Alike', serif; font-size: 20px;">Looking for ways to spend your holiday? Why not go on a Selangor, and rent car at DZ Empire Rental. 
            Selangor, Malaysia has some indefinable quality that makes it perfect for road trips. 
            Cruising down the roads with a Selangor, Malaysia car hire and the wind in your hair,  
            your favorite tunes playing and miles of open road ahead has to be the ideal start to any adventure. 
            The sheer diversity of landscapes and cultures within Selangor, Malaysia alone makes for myriad
            tour opportunities,no matter what kind of journey youâ€™re after.</p>

            <!-- <section class="search-sec" style="margin-top: 150px;">
              <div class="container">
                  <form th:action="@{/searchCars}" method="post">
                      <div class="row">
                          <div class="col-lg-12">
                              <div class="row">
                                <div class="col" style="height: 100%">
                                    <input type="date" name="datestart" id="dateStartInput" placeholder="Enter Start Rent Date" onchange="calculateEndDate()"required>
                                </div>
                                <div class="col" style="height: 100%">
                                    <input type="date" name="dateend" id="dateEndInput" readonly >
                                </div>
                                <div class="col" style="height: 100%">
                                  <input type="number" name="day" id="dayInput" class="form-control search-slt" placeholder="Enter Day"required>
                                </div>
                                  <div class="col" style="height: 100%">
                                      <select name="cartype" class="form-control search-slt" id="exampleFormControlSelect1">
                                          <option>Select Vehicle</option>
                                          <option  value="Sedan">Sedan</option>
                                          <option  value="Compact">Compact</option>
                                          <option  value="MPV">MPV</option>
                                      </select>
                                  </div>
                                  <div class="col" style="height: 100%">
                                      <button type="submit" class="btn btn-danger wrn-btn">Search</button>
                                  </div>
                              </div>
                          </div>
                      </div>
                  </form>
              </div>
          </section> -->
          <section class="search-sec" style="margin-top: 150px;">
            <div class="container">
                <form th:action="@{/searchCars}" method="post" onsubmit="return validateForm()">
                    <div class="row">
                        <div class="col-lg-12">
                            <div class="row">
                                <div class="col" style="height: 100%">
                                    <input type="date" name="datestart" id="dateStartInput" placeholder="Enter Start Rent Date"  required>
                                </div>
                                <div class="col" style="height: 100%">
                                    <input type="date" name="dateend" id="dateEndInput" required>
                                </div>
                                <div class="col" style="height: 100%">
                                    <input type="number" name="day" id="dayInput" class="form-control search-slt" placeholder="Enter Day" readonly required>
                                </div>
                                <div class="col" style="height: 100%">
                                    <select name="cartype" class="form-control search-slt" id="exampleFormControlSelect1">
                                        <option>Select Vehicle</option>
                                        <option value="Sedan">Sedan</option>
                                        <option value="Compact">Compact</option>
                                        <option value="MPV">MPV</option>
                                    </select>
                                </div>
                                <div class="col" style="height: 100%">
                                    <button type="submit" class="btn btn-danger wrn-btn">Search</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        
           
        </section>
        
          
            
        <!--  end maincontainer   -->
      </div> 
      <footer class="py-3 bg-dark text-white col-12">
        <div class="container-fluid">
          <p class="m-0 text-center">Copyright &copy; 2023 <a href="#">DZ EMPIRE CAR RENTAL</a></p>
        </div>
      </footer> 
   </body>
   <script>
    document.addEventListener("DOMContentLoaded", function () {
        // Get today's date in the format YYYY-MM-DD
        var today = new Date().toISOString().split('T')[0];

        // Set the minimum value for the start date input to today
        document.getElementById("dateStartInput").min = today;

        // Add an event listener to the start date input to update the day input and set the minimum value for the end date
        document.getElementById("dateStartInput").addEventListener("input", function () {
            // Get the selected start date
            var startDate = new Date(this.value);

            // Set the minimum value for the end date input to the day after the selected start date
            var nextDay = new Date(startDate);
            nextDay.setDate(startDate.getDate() + 1);
            document.getElementById("dateEndInput").min = nextDay.toISOString().split('T')[0];

            // Get the selected end date
            var endDate = new Date(document.getElementById("dateEndInput").value);

            // Calculate the difference in days
            var timeDifference = endDate - startDate;
            var daysDifference = Math.floor(timeDifference / (1000 * 60 * 60 * 24));

            // Update the day input value
            document.getElementById("dayInput").value = daysDifference;

            // Display a pop-up message if daysDifference is negative
            if (daysDifference < 0) {
                alert("Date entered is not applicable.");
                // You can also add additional logic here, such as clearing the end date input or taking corrective action.
            }
        });

        // Add an event listener to the end date input to update the day input
        document.getElementById("dateEndInput").addEventListener("input", function () {
            // Get the selected start date
            var startDate = new Date(document.getElementById("dateStartInput").value);

            // Get the selected end date
            var endDate = new Date(this.value);

            // Calculate the difference in days
            var timeDifference = endDate - startDate;
            var daysDifference = Math.floor(timeDifference / (1000 * 60 * 60 * 24));

            // Update the day input value
            document.getElementById("dayInput").value = daysDifference;

            // Display a pop-up message if daysDifference is negative
            if (daysDifference < 0) {
                alert("Date entered is not applicable. Please enter Proper Date");
                // You can also add additional logic here, such as clearing the end date input or taking corrective action.
            }
        });
    });

    // Function to validate the form (you can customize this based on your needs)
    function validateForm() {
        var daysDifference = parseInt(document.getElementById("dayInput").value);

        // Check if daysDifference is negative
        if (daysDifference < 0) {
        // Display an alert or any other message to inform the user
        alert("Date entered is not applicable.");
    
        // Return false to prevent form submission
        return false;
        }

      // Add additional validation logic here if needed

      // Return true if the form is valid
        return true;
    }
</script>





   <!-- <script>
    function calculateEndDate() {
      var dayInput = document.getElementById("dayInput");
      var dateStartInput = document.getElementById("dateStartInput");
      var dateEndInput = document.getElementById("dateEndInput");
      
      if (dayInput.value && dateStartInput.value) {
        var startDate = new Date(dateStartInput.value);
        var numberOfDays = parseInt(dayInput.value);
        var endDate = new Date(startDate.getTime() + (numberOfDays * 24 * 60 * 60 * 1000));
        
        dateEndInput.value = endDate.toISOString().split("T")[0];
      }
    }
  </script> -->
</html>